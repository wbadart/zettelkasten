---
date: 2021-06-24T19:09
---

# `pipes`

`pipes` is a popular [[0f4cc4fe]] library for programming with data streams.
The library is structured around a small collection of categories which
formally describe various streaming behaviors.

`pipes`' value proposition is that it provides composable data streaming
components that support side effects ("effects, streaming, composability"),
while other solutions in the streaming domain only offer up to two of those.

> If you sacrifice _Effects_ you get Haskell's pure and lazy lists, which you
> can transform using composable functions in constant space, but without
> interleaving effects.
>
> If you sacrifice _Streaming_ you get `mapM`, `forM` and "`ListT` done wrong",
> which are composable and effectful, but do not return a single result until
> the whole list has first been processed and loaded into memory.
>
> If you sacrifice _Composability_ you write a tightly coupled read, transform,
> and write loop in IO, which is streaming and effectful, but is not modular or
> separable.

## Abstractions

`pipes` is based on a single internal abstraction (the [`Proxy`][proxy-docs]),
but from this derive four much more familiar abstractions:

- [Producers] (like generators),
- [Consumers] (like iteratees or sinks),
- [Pipes] (streaming transformations, like Unix pipes), and:
- [Effects] (programs)

[proxy-docs]: https://hackage.haskell.org/package/pipes-4.3.16/docs/Pipes-Internal.html#t:Proxy
[Producers]: https://hackage.haskell.org/package/pipes-4.3.16/docs/Pipes-Core.html#t:Producer
[Consumers]: https://hackage.haskell.org/package/pipes-4.3.16/docs/Pipes-Core.html#t:Consumer
[Pipes]: https://hackage.haskell.org/package/pipes-4.3.16/docs/Pipes-Core.html#t:Pipe
[Effects]: https://hackage.haskell.org/package/pipes-4.3.16/docs/Pipes-Core.html#t:Effect

### Producers

A `pipes` _producer_ is much like a Python generator; it uses a `yield` command
to send a datum to some unknown downstream consumer. Like with Python's
`yield`, when a producer yields, it suspends (blocks) until the yielded value
is consumed, at which point it resumes its execution.

### Consumers

### Pipes

### Effects

## See Also

- [Hackage listing](https://hackage.haskell.org/package/pipes)
- [`pipes` tutorial](https://hackage.haskell.org/package/pipes-4.3.16/docs/Pipes-Tutorial.html)
